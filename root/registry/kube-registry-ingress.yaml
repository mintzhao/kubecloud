apiVersion: v1
kind: Secret
metadata:
  name: kube-registry-secret
  namespace: kube-system
type: kubernetes.io/tls
data:
  tls.crt: "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUVIekNDQXdlZ0F3SUJBZ0lVVUdHTFpWMUhmblZIQ1JRTzY0QWI3KzlQYTBJd0RRWUpLb1pJaHZjTkFRRUwKQlFBd2FqRUxNQWtHQTFVRUJoTUNRMDR4RURBT0JnTlZCQWdUQjBKbGFVcHBibWN4RURBT0JnTlZCQWNUQjBKbAphVXBwYm1jeEVqQVFCZ05WQkFvVENXdDFZbVZqYkc5MVpERVBNQTBHQTFVRUN4TUdVM2x6ZEdWdE1SSXdFQVlEClZRUURFd2xyZFdKbFkyeHZkV1F3SGhjTk1UY3dOREl3TURnek16QXdXaGNOTVRnd05ESXdNRGd6TXpBd1dqQjIKTVE0d0RBWURWUVFHRXdWRGFHbHVZVEVRTUE0R0ExVUVDQk1IUW1WcFNtbHVaekVRTUE0R0ExVUVCeE1IUW1WcApTbWx1WnpFU01CQUdBMVVFQ2hNSmEzVmlaV05zYjNWa01SQXdEZ1lEVlFRTEV3ZGxlR0Z0Y0d4bE1Sb3dHQVlEClZRUURFeEZwYldGblpTNWxlR0Z0Y0d4bExtTnZiVENDQVNJd0RRWUpLb1pJaHZjTkFRRUJCUUFEZ2dFUEFEQ0MKQVFvQ2dnRUJBTVEzRmVoSzcwWks5VzRKL0ZDL3d6OHFGczdpMkRDYy9xREFHdVBkb3dTTmdCMFEyVk1ZMlo2TQo3cUgxRjVVd2RwSTRaa3ZjNCtmVUYvbWJkQmFCSEtIcjZpd0VVRE5CTlJMMFFCTnUzSnhWcXFjVXJCVG9YbXJaCmdpd09qK3lNK1M0Y0U0S3VlcGVibyt0Q280Slp1c3NSMkdMM1VTTkxYVTdlT3JOaE1BeE9YMCtTQ3VSaU9HMlEKSkdVODkrbTJPRlh2c2U4RE5qTkFUNlJjc0tYZXR4VmIwT2xIQk52N1BZYldLb21PU25wYkp5Yld2ZGkzR281ZwpKbllzUDdFeklGQzNHSWlQOWQzbk15TjZnUEYvZ212RG50RCsyN01KSTlHRzliOG13Yk95SE5oTjZ1UnVCL0R5CjdtT3NNUjBKeldhOEsvd3VOUVFQV2ZuT3M4cjZoNjhDQXdFQUFhT0JzRENCclRBT0JnTlZIUThCQWY4RUJBTUMKQmFBd0hRWURWUjBsQkJZd0ZBWUlLd1lCQlFVSEF3RUdDQ3NHQVFVRkJ3TUNNQXdHQTFVZEV3RUIvd1FDTUFBdwpIUVlEVlIwT0JCWUVGUEw3V0lsUEg0Z2VBOVBCdUdFN2lYcElMeGUzTUI4R0ExVWRJd1FZTUJhQUZJamRJUHVMCmxMemFhMUY2MmV4TTYzcG44N1ZqTUM0R0ExVWRFUVFuTUNXQ0VXbHRZV2RsTG1WNFlXMXdiR1V1WTI5dGh3Ui8KQUFBQmh3UUFBQUFBaHdRS0FRS1RNQTBHQ1NxR1NJYjNEUUVCQ3dVQUE0SUJBUUJyUDNrbDlES0Q0ZjI2cVBtMwpTNWFOck9BK0x4NEFnQXJ5UmJMTU0rK2o2OUJsYmdUU2FXTVlkSkpZcFE2NVJvcDd5Z0Y3QmluNmI0TjdhU1E0CmJJY2pqVGhxdzRqbVFnWE14b0xhQk41SGlxVDBZbzJrM0J3N2RBQmo2QXAxcXZ4OHVtM0h0OEY4c3dwMkw0NlQKU0JsQ2MyT05SUEw4eU4raDNFQjlrWUtkdlI2ZG5rNnBBTFhVRm9aTUVtZzFyK3h1a0lUS1JpcFdSdUlmUFZldwpvUjJGanl4OTRoTldwbXZydmNnMVlxNnZlTDB6K1cxT0ptMWxlTHFsakdKQU1lUkNxNmtmR2x2SDM4RkhSNElBCmprQ0tDZVkrbm11L2wwQW5ESWk1Z2Z2ajlYTHVtSVNOU2JtczRlVkRZMVdac2ZncGp1ZVZSZ3BRTGhtdnZVcUsKUlNmLwotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="
  tls.key: "LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlFcFFJQkFBS0NBUUVBeERjVjZFcnZSa3IxYmduOFVML0RQeW9XenVMWU1KeitvTUFhNDkyakJJMkFIUkRaClV4alpub3p1b2ZVWGxUQjJramhtUzl6ajU5UVgrWnQwRm9FY29ldnFMQVJRTTBFMUV2UkFFMjdjbkZXcXB4U3MKRk9oZWF0bUNMQTZQN0l6NUxod1RncTU2bDV1ajYwS2pnbG02eXhIWVl2ZFJJMHRkVHQ0NnMyRXdERTVmVDVJSwo1R0k0YlpBa1pUejM2Ylk0VmUreDd3TTJNMEJQcEZ5d3BkNjNGVnZRNlVjRTIvczlodFlxaVk1S2Vsc25KdGE5CjJMY2FqbUFtZGl3L3NUTWdVTGNZaUkvMTNlY3pJM3FBOFgrQ2E4T2UwUDdic3drajBZYjF2eWJCczdJYzJFM3EKNUc0SDhQTHVZNnd4SFFuTlpyd3IvQzQxQkE5WitjNnp5dnFIcndJREFRQUJBb0lCQVFDamg3VitjRldUSkE0QQpzOW5TQXNCYStGMGg5L1Z1THFvWWw0TFJ2bnFLNU5PTlplbDZWQStyRUpJaDhQN0NuQzEyR0FOSjNzTWpCNlVqCnB1Zk5pYld2VGN0US9CZExZR0UzZHRHZ1lKa0V3bkVENXpxMEFpWU9yMURLSHlqY1lYR2JlRkxhYTBoSTZySm0KOUpjSm9IY0puOG5VVVlNU0ExRzAxWW5lem5VWkN4SitMNXVmTjZxQ1dlMUoyYUROQTE3aVk3T3dSUGJwS1FjRApIVUFEN1VJVkEyckN0VmZRVjdZNTgzanpzUGM4cDcyNzhEZzY1OG1IM2VZUWFsTGNaNWFjN2N5NCt3N1pDMWNxClozcnpqWXpyc2FIT2JUdDRDK0RCMGV0T2kvQzdRMDRvZGIyc001Z0NSRGFLTzJLNG9mSFZ5aVhPMlpaWXZHQlAKcDJlaXdITkJBb0dCQU5hc2ExNUJnVU5NOGU1aTl2UlVIRXRNV3ZPSHUyMGY0KzRUdE4rZUZTRWNsNFlHeE9ZaAprcndxbzk1Mzkvb0k3UU9zd2tkRU4wQWJOZXdFb1NRd3N1dFdrSGFhMDFwZTdRMzgwU1g3K05ERHZWeXNtVFBsCmlDbEY2NHZ5enU1eHNLTnVWbkxacmMzcWNjcUJ3L1pTT1pWYXNOeFlSa1ZZR09EcmNSQ3NmRXYzQW9HQkFPbjgKLzc3aUhqeFhLL3VjWGJMYzlFcFdKejlVNHNiUTRidVhSYkh3OGw4V0ovbWtHTDcrazc2R3NJZlhIM0NrNFBVRgpoQ2xKa0pNQkEwZStXZGVDalRRbVd5Zm4wRUY4M2Z3dDJTZldydzQ2Q2RVSHZJRTJ4bmtDYXVPUCtwMXYxLzluCnFVTWdlVHBrUXI1MjhVTDNWZ2RONHQvSlozMXpKUHNsZHRzdTlBUUpBb0dCQUxsYldMMmkyOFRMakYya1Q4MDUKVHREcFZlTE93Tk9CWktIdG5CQTFBOU42UjQ3dkMxWVZpUWcxM1JZN0NmOTNjNGJueFR3WnQ0Yi90N2haYXZXLwpvczAzQ2plT2lZMlBSeW43c0c4V3VJa3hhYkM2U3ZJWGIxRUwwVTBlVXZScGIvWTlVQ0dNdU5pQ1pNeFE3VzRqCkl4dEZtazQzWGoyRHlyOXlLMGNWVjZHVEFvR0FYSkpEZS9scGpPWFArTk44SG05Y0ZxelBDamRESVBVeTJVeVgKdmpaZExWRk9yMjFFZlF1cTJBM2hlVnlhaTY0dmNjQ2s4TkN4NmZiVW5XV3BsYUdJeThFQS8yQ3UrN215K1RvSwpWOENQc1VrMDZwc004UElDdzQwNVRKNkJ3QmVubE53bUV2Q2VCWVAxQS9WNnJjdTh0VmNURXdaVGMwWkNzem0zCk5DLzNTa0VDZ1lFQXhaUUhjY0hTZkpxeC8rSVNaU2VPQW4vMnY1ZytYWXpta1R5TCtlY0F2UnZMRW9uMStGVkIKb1NhWnM1R3pRTENaWlp0UmxQWldzRGNKZkwvNncrY3o1REUwekgvREJwNDNqb1g5ZE1ERHBIbzN2OXUvdDZwaAphNHZPa3llTHFNMVZJOXQxbU5OZ2l5OGY2SkJJa0g4Mi9waFpiV3JzUzlPak5jazYvTlh6VmU0PQotLS0tLUVORCBSU0EgUFJJVkFURSBLRVktLS0tLQo="
---
apiVersion: extensions/v1beta1
kind: Ingress
metadata:
  name: kube-registry-ingress
  namespace: kube-system
spec:
  tls:
  - hosts:
    - image.example.com
    secretName: kube-registry-secret
  rules:
  - host: image.example.com
    http:
      paths:
      - path: /
        backend:
          serviceName: kube-registry
          servicePort: 5000
      - path: /auth
        backend:
          serviceName: kube-registry-auth
          servicePort: 5001